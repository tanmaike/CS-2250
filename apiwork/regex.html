<!DOCTYPE html>
<html>
    <head>
        <style>
            .invalid { border: 2px solid red; }
            .valid { border: 2px solid green; }
        </style>
    </head>
    <body>
        <!-- validate happy -->
        <input type="text" required />

        <label for="favcolor">Select a color:</label>
        <input type="color" id="favcolor" value="#ff0000" />

        <script>
            const colorInput = document.getElementById("favcolor");

            document.body.style.background = localStorage.myColor;
            colorInput.value = localStorage.myColor;
            colorInput.addEventListener("change", (event) => {
                localStorage.myColor = event.currentTarget.value;
                document.body.style.background = localStorage.myColor;
            });
            

            document.querySelector("input").value = localStorage.myText;
            document.querySelector("input").addEventListener("keyup", (event) => {
                const pattern = /[hH]appy$/;
                if (pattern.test(event.currentTarget.value)) {
                    event.currentTarget.className = "valid";
                } else {
                    event.currentTarget.className = "invalid";
                }

                localStorage.myText = event.currentTarget.value;
            });
        </script>
    </body>
</html>